### Интерфейс взаимодействия с API SmartView

Решение представляет собой утилиты, предназначенные для работы с АС SmartView. Позволяет осуществлять исследование доступных камер, заказ снэпшотов, заказ видео из архива. Также решение включает в себя отчет на QS.

Для начала работы необходимо получить доступ к АС SmartView: (контакты/процедура доступа — уточнить в ЦК).



Ссылка на утилиты: https://example.com/smartview/tools-repo
Для получения доступа к репозиторию следует обратиться к участникам ЦК по CV: (контакты — уточнить).

#### Начиная с 25 мая 2025 года АС SmartView недоступна во внутреннем сегменте сети Alpha и для работы с системой следует использовать домен Sigma.

### Инструкция для работы с утилитами

#### Установка

Клонировать репозиторий:

1. Установить Git через SUS
2. Перед клонированием репозитория необходимо добавить в конфигурацию: выполнить `git config --global http.sslVerify false`. Выполняется один раз.
3. Склонировать репозиторий командой `git clone https://example.com/smartview/tools-repo.git`

Установить необходимые зависимости: `requests`, `requests_negotiate_sspi`, `pandas`.

##### get_info_table
Jupyter тетрадка предназначена для сбора информации о камерах. Для запуска необходимо выполнить все ячейки.

##### get_snaphot
Jupyter тетрадка в которой определен класс `CameraSnapshot`.
Для массового сбора snapshot:

```
cams_ids_list = ['id1', 'id2', 'id3']
session = get_session()
cameras = [CameraSnapshot(session, cam_id) for cam_id in cams_ids_list]
while True:
    for camera in cameras:
        camera.run()
```

##### get_video
Jupyter тетрадка, предназначенная для заказа видео из архива. Видео архив позволяет заказывать видео не дольше 30 минут, поэтому большие периоды необходимо нарезать на разделы по 30 минут.

```
session = get_session()
camId = "CAMERA_ID"
period = convert_dates('2025-01-28 11:00:00', '2025-01-28 12:15:00')
order_video(session, camId , period)
```

После этого заказанные видео появятся в интерфейсе SmartView.


